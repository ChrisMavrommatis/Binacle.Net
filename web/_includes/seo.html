{% assign page_title = site.title %}
{% if page.title %}
{% assign page_title = page.title | append: ' | ' | append: site.title %}
{% endif %}

<title>
    {{ page_title }}
</title>

{% assign site_meta_description = site.description | markdownify | clean_content: 160 %}
{% assign content_meta_description = page.content | markdownify | clean_content: 160 %}
{% assign excerpt_meta_description = page.excerpt | markdownify | clean_content: 160 %}
{% assign meta_description = excerpt_meta_description | default: content_meta_description | default: site_meta_description %}

<meta name="description" content="{{ meta_description }}">

<link rel="canonical" href="{{ page.url | remove: "index.html" | absolute_url }}">

<meta property="og:title" content="{{ page_title }}" />

{% if page.main_img %}
<meta property="og:image" content="{{ page.main_img  | absolute_url}}" />
{% endif %}

<meta property="og:url" content="{{ page.url | absolute_url | remove: "index.html"  }}" />
<meta property="og:type" content="article">
<meta property="og:site_name" content="{{ site.title }}" />
<meta property="og:description" content="{{ meta_description }}" />
<meta property="og:locale" content="{{ page.locale }}" />


<meta name="twitter:card" content="summary">

{% if site.twitter_url %}
<meta name="twitter:site" content="@{{ site.twitter_url }}">
{% endif %}

<meta name="twitter:title" content="{{ page_title }}" />

{% if page.main_img %}
<meta name="twitter:image" content="{{ page.main_img | absolute_url }}" />
{% endif %}

<meta name="twitter:url" content="{{ page.url | absolute_url | remove: "index.html"  }}" />
<meta name="twitter:description" content="{{ meta_description }}" />