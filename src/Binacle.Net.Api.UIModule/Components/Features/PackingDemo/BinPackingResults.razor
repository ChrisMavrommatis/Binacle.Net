@namespace Binacle.Net.Api.UIModule.Components.Features
@rendermode RenderMode.InteractiveServer

<div class="card-content indigo lighten-2 white-text">
    <div class="card-title">Results</div>
    <ul class="collection">
        @foreach (var result in this.State.Results)
        {
            var isFullyPacked = result.Result == Models.PackResultType.FullyPacked;
            var percentage = result.PackedBinVolumePercentage;
            var colorClass = this.GetColorClass(result);
            <li class="collection-item avatar @(this.IsSelected(result) ? "active" : string.Empty)">
                <div class="row">
                    <div class="col s6 m8">
                        <i class="material-symbols-outlined large circle @colorClass">package_2</i>
                        <span class="title">Bin: @result.Bin.ID</span>

                        <div class="progress">
                            <div class="determinate @colorClass" style="width: @(percentage)%" />
                        </div>
                        <div class="row">
                            <div class="col s12 m6">
                                Packed Bin Volume: @result.PackedBinVolumePercentage%
                            </div>
                            <div class="col s12 m6">
                                @if (!isFullyPacked)
                                {
                                    <text>
                                        Packed Items Volume: @result.PackedItemsVolumePercentage%
                                    </text>
                                }
                            </div>
                        </div>
                        
                    </div>
                    <div class="col s6 m4">
                        @result.Result.ToString()
                    </div>
                    <Button type="button" class="text secondary-content" @onclick="(() => this.SelectResultAsync(result))">
                        <i class="material-symbols-outlined">publish</i>
                    </Button>
                </div>

            </li>
        }
    </ul>
</div>
